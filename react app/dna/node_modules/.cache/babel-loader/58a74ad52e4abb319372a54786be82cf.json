{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\icom\\\\myProjects\\\\DNA\\\\react app\\\\dna\\\\src\\\\dashboard\\\\Dashboard.js\";\nimport React from 'react';\nimport './dashboard.css';\nimport Card from 'react-bootstrap/Card';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { HorizontalBar, defaults, Bar, Pie } from 'react-chartjs-2';\ndefaults.global.defaultFontColor = '#E7E7EB';\ndefaults.scale.ticks.beginAtZero = true;\ndefaults.scale.ticks.suggestedMax = 100;\nvar bac_fields = [{\n  \"path_id\": 1,\n  \"path_name\": \"S\"\n}, {\n  \"path_id\": 2,\n  \"path_name\": \"M\"\n}, {\n  \"path_id\": 4,\n  \"path_name\": \"TM\"\n}, {\n  \"path_id\": 5,\n  \"path_name\": \"other\"\n}];\n\nclass Dashboard extends React.Component {\n  constructor() {\n    super();\n\n    this.calculatebestcourses = result => {\n      var temp = [];\n\n      for (var i = 0; i < result.length; i++) {\n        var id = result[i][\"cours_id\"];\n        var admis = result[i].admis_number;\n        var total = result[i].student_number;\n        temp.push({\n          \"id\": id,\n          \"winrate\": (admis / total).toFixed(4) * 100\n        });\n      }\n\n      temp.sort((a, b) => {\n        return b.winrate - a.winrate;\n      });\n      var best_temp = [];\n      var winrate_temp = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        best_temp.push(temp[i]['id']);\n        winrate_temp.push(temp[i]['winrate']);\n      }\n\n      this.setState({\n        best_courses: [...best_temp],\n        best_courses_winrate: [...winrate_temp]\n      });\n    };\n\n    this.calculatepopularfield = result => {\n      var temp = [];\n\n      for (var i = 0; i < bac_fields.length; i++) {\n        var count = 0;\n\n        for (var j = 0; j < result.length; j++) {\n          if (bac_fields[i]['path_id'] == result[j]['highshcool_path']) {\n            count++;\n          }\n        }\n\n        temp.push({\n          'bac_path': bac_fields[i]['path_name'],\n          'percentage': (count / result.length).toFixed(4) * 100\n        });\n      }\n\n      temp.sort((a, b) => {\n        return b.percentage - a.percentage;\n      });\n      let field_temp = [];\n      let percentage_temp = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        field_temp.push(temp[i]['bac_path']);\n        percentage_temp.push(temp[i]['percentage']);\n      }\n\n      this.setState({\n        popular_fields: [...field_temp],\n        popular_fields_number: [...percentage_temp]\n      });\n    };\n\n    this.calculatebestbacfield = result => {\n      var temp = [];\n\n      for (var i = 0; i < bac_fields.length; i++) {\n        var count_student = 0;\n        var count_admis = 0;\n\n        for (var j = 0; j < result.length; j++) {\n          if (bac_fields[i]['path_id'] == result[j]['path']) {\n            count_student += result[j]['student_number'];\n            count_admis += result[j]['admis_number'];\n          }\n        }\n\n        temp.push({\n          'bac_path': bac_fields[i]['path_name'],\n          'winrate': (count_admis / count_student).toFixed(4) * 100\n        });\n      }\n\n      temp.sort((a, b) => {\n        return b.winrate - a.winrate;\n      });\n      let field_temp = [];\n      let winrate_temp = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        field_temp.push(temp[i]['bac_path']);\n        winrate_temp.push(temp[i]['winrate']);\n      }\n\n      this.setState({\n        best_bacfield: [...field_temp],\n        best_bacfield_winrate: [...winrate_temp]\n      });\n    };\n\n    this.calculatebestgender = result => {\n      let temp = [];\n      var total_admis_student = 0;\n      var total_male = 0;\n      var total_female = 0;\n\n      for (var i = 0; i < result.length; i++) {\n        total_admis_student += result[i]['admis_number'];\n        total_male += result[i]['m_admis_number'];\n        total_female += result[i].admis_number - result[i].m_admis_number;\n      }\n\n      temp.push({\n        'gender': 'Male',\n        'winrate': (total_male / total_admis_student).toFixed(4) * 100\n      });\n      temp.push({\n        'gender': 'Female',\n        'winrate': (total_female / total_admis_student).toFixed(4) * 100\n      });\n      temp.sort((a, b) => {\n        return b.winrate - a.winrate;\n      });\n      let gender_temp = [];\n      let winrate_temp = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        gender_temp.push(temp[i]['gender']);\n        winrate_temp.push(temp[i]['winrate']);\n      }\n\n      this.setState({\n        best_gender: [...gender_temp],\n        best_gender_winrate: [...winrate_temp]\n      });\n    };\n\n    this.getscholaryears = result => {\n      let temp = [];\n\n      for (var i = 0; i < result.length; i++) {\n        temp.push(result[i]['scholar_year']);\n      }\n\n      console.log(temp);\n      this.setState({\n        years: [...temp]\n      });\n    };\n\n    this.findStudentPath = id => {\n      for (var i = 0; i < bac_fields.length; i++) {\n        if (bac_fields[i]['path_id'] == id) {\n          return bac_fields[i]['path_name'];\n        }\n      }\n    };\n\n    this.calculatebestcourseyear = result => {\n      let temp = [];\n\n      for (var i = 0; i < result.length; i++) {\n        temp.push({\n          \"course\": result[i].course,\n          \"year\": this.state.years[result[i]['date'] - 1],\n          \"bac_path\": this.findStudentPath(result[i].path),\n          \"winrate\": isNaN((parseInt(result[i].admis_number) / parseInt(result[i].student_number)).toFixed(4) * 100) ? 0 : (parseInt(result[i].admis_number) / parseInt(result[i].student_number)).toFixed(4) * 100\n        });\n      }\n\n      temp.sort((a, b) => {\n        return parseInt(b.winrate) - parseInt(a.winrate);\n      });\n      var temp_courses = [];\n      var temp_years = [];\n      var temp_bac_paths = [];\n      var temp_winrates = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        temp_courses.push(temp[i].course);\n        temp_years.push(temp[i].year);\n        temp_bac_paths.push(temp[i].bac_path);\n        temp_winrates.push(temp[i].winrate);\n      }\n\n      this.setState({\n        year_cours: [...temp_courses],\n        year_years: [...temp_years],\n        year_path: [...temp_bac_paths],\n        year_winrate: [...temp_winrates]\n      });\n      temp.sort((a, b) => parseInt(a.winrate) - parseInt(b.winrate));\n      temp_courses = [];\n      temp_years = [];\n      temp_bac_paths = [];\n      temp_winrates = [];\n\n      for (var i = 0; i < temp.length; i++) {\n        temp_courses.push(temp[i].course);\n        temp_years.push(temp[i].year);\n        temp_bac_paths.push(temp[i].bac_path);\n        temp_winrates.push(temp[i].winrate);\n      }\n\n      this.setState({\n        year_cours_worst: [...temp_courses],\n        year_years_worst: [...temp_years],\n        year_path_worst: [...temp_bac_paths],\n        year_winrate_worst: [...temp_winrates]\n      });\n    };\n\n    this.getbestbacavg = result => {\n      var bac_avgs = [];\n      var bac_paths = [];\n      var bac_ids = [];\n      var bac_years = [];\n      var bac_feedbacks = [];\n      var bac_id = [];\n      result.sort((a, b) => {\n        return parseInt(b.bac_avg) - parseInt(a.bac_avg);\n      });\n\n      for (var i = 0; i < result.length; i++) {\n        bac_avgs.push(result[i]['bac_avg']);\n        bac_paths.push(this.findStudentPath(result[i]['highshcool_path']));\n        bac_ids.push(result[i]['bac_id']);\n        bac_years.push(result[i]['bac_year']);\n        bac_feedbacks.push(result[i]['bac_feedback']);\n        bac_id.push(result[i]['bac_id']);\n      }\n\n      this.setState({\n        bac_avgs: [...bac_avgs],\n        bac_paths: [...bac_paths],\n        bac_ids: [...bac_ids],\n        bac_years: [...bac_years],\n        bac_feedbacks: [...bac_feedbacks],\n        bac_id: [...bac_id]\n      });\n    };\n\n    this.connectToBestCourses = () => {\n      fetch('http://127.0.0.1:8000/best_courses/').then(res => res.json()).then(result => {\n        this.calculatebestcourses(result);\n      });\n    };\n\n    this.connectToBac = () => {\n      fetch('http://127.0.0.1:8000/bac/').then(res => res.json()).then(result => {\n        this.getbestbacavg(result);\n        this.calculatepopularfield(result);\n      });\n    };\n\n    this.connectToCourseProfile = () => {\n      fetch('http://127.0.0.1:8000/course_profile/').then(res => res.json()).then(result => {\n        this.calculatebestbacfield(result);\n        this.calculatebestgender(result);\n      });\n    };\n\n    this.connectToCourseProfileBydate = () => {\n      var date = this.state.years.indexOf(this.state.current_year) + 1 == 0 ? 1 : this.state.years.indexOf(this.state.current_year) + 1;\n      console.log(date);\n      fetch('http://127.0.0.1:8000/course_profile/?date=' + date).then(res => res.json()).then(result => {\n        this.calculatebestcourseyear(result);\n      });\n    };\n\n    this.connectToScholarYear = () => {\n      fetch('http://127.0.0.1:8000/scholar_years/').then(res => res.json()).then(result => {\n        this.getscholaryears(result);\n      });\n    };\n\n    this.handleClickYear = e => {\n      let year = e.target.text;\n      this.setState({\n        current_year: parseInt(year)\n      });\n      this.connectToCourseProfileBydate();\n    };\n\n    this.displayYears = () => {\n      var id = \"years_list\";\n      const yearsList = this.state.years.map(year => React.createElement(\"li\", {\n        className: \"nav-item active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-link text-white\",\n        href: \"#year-analysis\",\n        onClick: this.handleClickYear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, year)));\n      return yearsList;\n    };\n\n    this.state = {\n      best_courses: [],\n      best_courses_winrate: [],\n      popular_fields: [],\n      popular_fields_number: [],\n      best_bacfield: [],\n      best_bacfield_winrate: [],\n      best_gender: [],\n      best_gender_winrate: [],\n      years: [],\n      current_year: 2010,\n      crrent_level: 1,\n      current_field: \"MIAS\",\n      year_cours: [],\n      year_years: [],\n      year_path: [],\n      year_winrate: [],\n      year_cours_worst: [],\n      year_years_worst: [],\n      year_path_worst: [],\n      year_winrate_worst: [],\n      bac_avgs: [],\n      bac_paths: [],\n      bac_ids: [],\n      bac_years: [],\n      bac_feedbacks: [],\n      bac_id: []\n    };\n    this.handleClickYear = this.handleClickYear.bind(this);\n  }\n\n  componentDidMount() {\n    this.connectToScholarYear();\n    this.connectToBestCourses();\n    this.connectToBac();\n    this.connectToCourseProfile();\n    this.connectToCourseProfileBydate();\n  }\n\n  render() {\n    const cardWidth = \"22rem\";\n    const greenBarColor = \"#18BD9B\";\n    const redBarColor = \"#E54787\";\n    let yearsList = this.displayYears();\n    return React.createElement(\"div\", {\n      className: \"Dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, \"General Info\"), React.createElement(\"div\", {\n      id: \"general-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, React.createElement(Card, {\n      id: \"best-courses\",\n      style: {\n        width: cardWidth\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      data: {\n        labels: this.state.best_courses.slice(0, 5),\n        datasets: [{\n          label: \"Top 5 Admis Percentage since 2010 \",\n          backgroundColor: greenBarColor,\n          data: this.state.best_courses_winrate.slice(0, 5)\n        }]\n      },\n      width: 100,\n      height: 200,\n      options: {\n        maintainAspectRatio: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      id: \"popular-bacfield\",\n      style: {\n        width: cardWidth\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      data: {\n        labels: this.state.popular_fields,\n        datasets: [{\n          label: \"Most popular bac field since 2010\",\n          backgroundColor: greenBarColor,\n          data: this.state.popular_fields_number\n        }]\n      },\n      width: 100,\n      height: 200,\n      options: {\n        maintainAspectRatio: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      id: \"best-bacfield\",\n      style: {\n        width: cardWidth\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      data: {\n        labels: this.state.best_bacfield,\n        datasets: [{\n          label: \"Top  bac field since 2010\",\n          backgroundColor: greenBarColor,\n          data: this.state.best_bacfield_winrate\n        }]\n      },\n      width: 100,\n      height: 200,\n      options: {\n        maintainAspectRatio: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      id: \"best-gender\",\n      style: {\n        width: cardWidth\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      data: {\n        labels: this.state.best_gender,\n        datasets: [{\n          label: \"Male Vs Female Admis since  2010\",\n          backgroundColor: greenBarColor,\n          data: this.state.best_gender_winrate\n        }]\n      },\n      width: 100,\n      height: 200,\n      options: {\n        maintainAspectRatio: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }))))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, \"Year Analysis\"), React.createElement(\"div\", {\n      id: \"year-analysis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      id: \"years_list\",\n      className: \"navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, yearsList))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536\n      },\n      __self: this\n    }, React.createElement(Card, {\n      id: \"years_analysis_card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(Bar, {\n      data: {\n        labels: this.state.year_cours.slice(0, 5),\n        datasets: [{\n          label: \"best modules for \" + this.state.current_year,\n          backgroundColor: greenBarColor,\n          data: this.state.year_winrate.slice(0, 5)\n        }]\n      },\n      width: 100,\n      height: 80,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }, React.createElement(Bar, {\n      data: {\n        labels: this.state.year_cours_worst.slice(0, 5),\n        datasets: [{\n          label: \"best field for \" + this.state.current_year,\n          backgroundColor: redBarColor,\n          data: this.state.year_winrate_worst.slice(0, 5)\n        }]\n      },\n      width: 100,\n      height: 80,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }, React.createElement(Bar, {\n      data: {\n        labels: this.state.best_gender,\n        datasets: [{\n          label: \"Male Vs Female Admis since  2010\",\n          backgroundColor: greenBarColor,\n          data: this.state.best_gender_winrate\n        }]\n      },\n      width: 100,\n      height: 80,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595\n      },\n      __self: this\n    }, React.createElement(Bar, {\n      data: {\n        labels: this.state.best_gender,\n        datasets: [{\n          label: \"Male Vs Female Admis since  2010\",\n          backgroundColor: greenBarColor,\n          data: this.state.best_gender_winrate\n        }]\n      },\n      width: 100,\n      height: 80,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596\n      },\n      __self: this\n    }))))))))), React.createElement(\"aside\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623\n      },\n      __self: this\n    }, \"Best Bac Avg\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/icom/myProjects/DNA/react app/dna/src/dashboard/Dashboard.js"],"names":["React","Card","HorizontalBar","defaults","Bar","Pie","global","defaultFontColor","scale","ticks","beginAtZero","suggestedMax","bac_fields","Dashboard","Component","constructor","calculatebestcourses","result","temp","i","length","id","admis","admis_number","total","student_number","push","toFixed","sort","a","b","winrate","best_temp","winrate_temp","setState","best_courses","best_courses_winrate","calculatepopularfield","count","j","percentage","field_temp","percentage_temp","popular_fields","popular_fields_number","calculatebestbacfield","count_student","count_admis","best_bacfield","best_bacfield_winrate","calculatebestgender","total_admis_student","total_male","total_female","m_admis_number","gender_temp","best_gender","best_gender_winrate","getscholaryears","console","log","years","findStudentPath","calculatebestcourseyear","course","state","path","isNaN","parseInt","temp_courses","temp_years","temp_bac_paths","temp_winrates","year","bac_path","year_cours","year_years","year_path","year_winrate","year_cours_worst","year_years_worst","year_path_worst","year_winrate_worst","getbestbacavg","bac_avgs","bac_paths","bac_ids","bac_years","bac_feedbacks","bac_id","bac_avg","connectToBestCourses","fetch","then","res","json","connectToBac","connectToCourseProfile","connectToCourseProfileBydate","date","indexOf","current_year","connectToScholarYear","handleClickYear","e","target","text","displayYears","yearsList","map","crrent_level","current_field","bind","componentDidMount","render","cardWidth","greenBarColor","redBarColor","width","labels","slice","datasets","label","backgroundColor","data","maintainAspectRatio"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './dashboard.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { HorizontalBar,defaults,Bar,Pie } from 'react-chartjs-2';\r\n\r\ndefaults.global.defaultFontColor = '#E7E7EB';\r\ndefaults.scale.ticks.beginAtZero = true; \r\ndefaults.scale.ticks.suggestedMax = 100\r\n\r\nvar bac_fields = [\r\n  {\r\n    \"path_id\": 1,\r\n    \"path_name\": \"S\"\r\n},\r\n{\r\n    \"path_id\": 2,\r\n    \"path_name\": \"M\"\r\n},\r\n{\r\n    \"path_id\": 4,\r\n    \"path_name\": \"TM\"\r\n},\r\n{\r\n    \"path_id\": 5,\r\n    \"path_name\": \"other\"\r\n}\r\n]\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      best_courses : [],\r\n      best_courses_winrate: [],\r\n\r\n      popular_fields : [],\r\n      popular_fields_number : [],\r\n\r\n      best_bacfield: [],\r\n      best_bacfield_winrate: [],\r\n\r\n      best_gender: [],\r\n      best_gender_winrate: [],\r\n      \r\n      years : [],\r\n\r\n      current_year : 2010,\r\n      crrent_level: 1,\r\n      current_field:\"MIAS\",\r\n\r\n      year_cours: [],\r\n      year_years: [],\r\n      year_path: [],\r\n      year_winrate: [],\r\n\r\n      year_cours_worst: [],\r\n      year_years_worst: [],\r\n      year_path_worst: [],\r\n      year_winrate_worst: [],\r\n\r\n      bac_avgs: [],\r\n      bac_paths: [],\r\n      bac_ids: [],\r\n      bac_years: [],\r\n      bac_feedbacks: [],\r\n      bac_id: [],\r\n\r\n\r\n    }\r\n    this.handleClickYear = this.handleClickYear.bind(this);\r\n  \r\n  }\r\n\r\n\r\n calculatebestcourses = (result)=>{   \r\n  \r\n    var temp = []\r\n    for(var i=0; i< result.length;i++){\r\n      var id = result[i][\"cours_id\"]\r\n      var admis = result[i].admis_number\r\n      var total = result[i].student_number\r\n      temp.push({\"id\":id, \"winrate\": (admis/total).toFixed(4) * 100})\r\n    }\r\n    temp.sort((a,b)=> {\r\n      return b.winrate - a.winrate\r\n    })\r\n    var best_temp = []\r\n    var winrate_temp = []\r\n    for(var i=0; i< temp.length;i++){\r\n      best_temp.push(temp[i]['id'])\r\n      winrate_temp.push(temp[i]['winrate'])\r\n    }\r\n    this.setState({\r\n      best_courses:[...best_temp] ,\r\n      best_courses_winrate: [...winrate_temp],\r\n    })    \r\n\r\n}\r\n\r\ncalculatepopularfield = (result)=>{\r\n  var temp = []\r\n \r\n    \r\n    for(var i=0; i< bac_fields.length;i++){\r\n      var count = 0\r\n      for(var j=0; j<result.length;j++){\r\n        if(bac_fields[i]['path_id'] == result[j]['highshcool_path']){\r\n          count++\r\n        }\r\n      }\r\n      temp.push({\r\n        'bac_path': bac_fields[i]['path_name'],\r\n        'percentage': (count/result.length).toFixed(4) * 100\r\n      })\r\n      \r\n    }\r\n    temp.sort((a,b)=> {\r\n      return b.percentage - a.percentage\r\n    })\r\n    let field_temp = []\r\n    let percentage_temp = []\r\n    for(var i=0; i< temp.length;i++){\r\n      field_temp.push(temp[i]['bac_path'])\r\n      percentage_temp.push(temp[i]['percentage'])\r\n    }\r\n\r\n    this.setState({\r\n      popular_fields : [...field_temp],\r\n      popular_fields_number : [...percentage_temp]\r\n    }) \r\n   \r\n}\r\n\r\n\r\ncalculatebestbacfield = (result)=>{\r\n  var temp = []   \r\n  for(var i=0; i< bac_fields.length;i++){\r\n    var count_student = 0\r\n    var count_admis = 0\r\n    for(var j=0; j<result.length;j++){\r\n      if(bac_fields[i]['path_id'] == result[j]['path']){\r\n        count_student += result[j]['student_number']\r\n        count_admis += result[j]['admis_number']\r\n      }\r\n    }\r\n    temp.push({\r\n      'bac_path': bac_fields[i]['path_name'],\r\n      'winrate': (count_admis/ count_student).toFixed(4) * 100\r\n    })\r\n    \r\n  }\r\n\r\n  temp.sort((a,b)=> {\r\n    return b.winrate - a.winrate\r\n  })\r\n  let field_temp = []\r\n  let winrate_temp = []\r\n  for(var i=0; i< temp.length;i++){\r\n    field_temp.push(temp[i]['bac_path'])\r\n    winrate_temp .push(temp[i]['winrate'])\r\n  }\r\n\r\n  this.setState({\r\n    best_bacfield: [...field_temp],\r\n    best_bacfield_winrate: [...winrate_temp],\r\n  })\r\n}\r\n\r\ncalculatebestgender = (result)=>{\r\n  let temp = []\r\n  var total_admis_student = 0\r\n  var total_male = 0\r\n  var total_female = 0\r\n  \r\n  for(var i=0; i< result.length;i++){\r\n    total_admis_student += result[i]['admis_number']\r\n    total_male += result[i]['m_admis_number']\r\n    total_female +=  (result[i].admis_number - result[i].m_admis_number)\r\n  } \r\n\r\n  temp.push({'gender': 'Male', 'winrate': (total_male / total_admis_student).toFixed(4) * 100})\r\n  temp.push({'gender': 'Female', 'winrate': (total_female/ total_admis_student).toFixed(4) * 100 })\r\n\r\n  temp.sort((a,b)=> {\r\n    return b.winrate - a.winrate\r\n  })\r\n  \r\n  let gender_temp = []\r\n  let winrate_temp = []\r\n  for(var i=0; i< temp.length;i++){\r\n    gender_temp.push(temp[i]['gender'])\r\n    winrate_temp.push(temp[i]['winrate'])\r\n  }  \r\n\r\n  this.setState({\r\n    best_gender: [...gender_temp],\r\n    best_gender_winrate: [... winrate_temp],\r\n  })\r\n  \r\n}\r\n\r\ngetscholaryears = (result)=>{\r\n  let temp = []\r\n  for(var i=0; i< result.length;i++){\r\n     temp.push(result[i]['scholar_year'])\r\n  } \r\n  console.log(temp)\r\n  this.setState({\r\n    years : [...temp]\r\n  })\r\n}\r\nfindStudentPath = (id)=>{\r\n  for(var i=0; i<  bac_fields.length;i++){    \r\n    if(bac_fields[i]['path_id'] == id){\r\n      return bac_fields[i]['path_name']\r\n    }\r\n }\r\n}\r\ncalculatebestcourseyear = (result)=>{\r\n \r\n  let temp = []\r\n\r\n  for(var i=0; i< result.length;i++){       \r\n      temp.push({\r\n        \"course\" : result[i].course,\r\n        \"year\" : this.state.years[result[i]['date']-1],\r\n        \"bac_path\": this.findStudentPath(result[i].path),\r\n        \"winrate\": ( isNaN((parseInt(result[i].admis_number) / parseInt(result[i].student_number)).toFixed(4) * 100) ) ? 0 :   (parseInt(result[i].admis_number) / parseInt(result[i].student_number)).toFixed(4) * 100,       \r\n       })  \r\n     \r\n  }\r\n  temp.sort((a,b)=> {\r\n    return  parseInt(b.winrate) - parseInt(a.winrate)\r\n  })\r\n  var temp_courses = []\r\n  var temp_years = []\r\n  var temp_bac_paths = []\r\n  var temp_winrates= []\r\n\r\n  for(var i=0; i< temp.length;i++){  \r\n    temp_courses.push(temp[i].course)\r\n    temp_years.push(temp[i].year)\r\n    temp_bac_paths.push(temp[i].bac_path)\r\n    temp_winrates.push(temp[i].winrate)\r\n  }\r\n\r\n\r\n\r\n  this.setState({\r\n    year_cours: [...temp_courses],\r\n    year_years: [...temp_years],\r\n    year_path: [...temp_bac_paths],\r\n    year_winrate: [...temp_winrates],\r\n     \r\n  })\r\n\r\n  temp.sort((a,b)=>\r\n   parseInt(a.winrate) - parseInt(b.winrate)\r\n  )\r\n   temp_courses = []\r\n   temp_years = []\r\n   temp_bac_paths = []\r\n   temp_winrates= []\r\n  for(var i=0; i< temp.length;i++){  \r\n    temp_courses.push(temp[i].course)\r\n    temp_years.push(temp[i].year)\r\n    temp_bac_paths.push(temp[i].bac_path)\r\n    temp_winrates.push(temp[i].winrate)\r\n  }\r\n\r\n  \r\n  this.setState({\r\n    year_cours_worst: [...temp_courses],\r\n    year_years_worst: [...temp_years],\r\n    year_path_worst: [...temp_bac_paths],\r\n    year_winrate_worst: [...temp_winrates],\r\n     \r\n  })\r\n\r\n}\r\n\r\ngetbestbacavg = (result)=>{\r\n  var bac_avgs = []\r\n  var bac_paths = []\r\n  var bac_ids = []\r\n  var bac_years = []\r\n  var bac_feedbacks = []\r\n  var bac_id = []\r\n\r\n  result.sort((a,b)=> {\r\n    return  parseInt(b.bac_avg) - parseInt(a.bac_avg)\r\n  })\r\n\r\n  for(var i=0; i < result.length;i++){\r\n    \r\n    bac_avgs.push(result[i]['bac_avg'])      \r\n    bac_paths.push(this.findStudentPath(result[i]['highshcool_path']))\r\n    bac_ids.push(result[i]['bac_id'])\r\n    bac_years.push(result[i]['bac_year'])\r\n    bac_feedbacks.push(result[i]['bac_feedback'])\r\n    bac_id.push(result[i]['bac_id'])\r\n  }\r\n\r\n  this.setState(\r\n    {\r\n      bac_avgs: [...bac_avgs],\r\n      bac_paths: [...bac_paths],\r\n      bac_ids: [...bac_ids],\r\n      bac_years: [...bac_years],\r\n      bac_feedbacks: [...bac_feedbacks],\r\n      bac_id: [...bac_id],\r\n\r\n    }\r\n  )\r\n \r\n}\r\n\r\n\r\nconnectToBestCourses = ()=>{\r\n  fetch('http://127.0.0.1:8000/best_courses/').\r\nthen(res => res.json()).\r\nthen(\r\n  result =>{\r\n    this.calculatebestcourses(result)\r\n   \r\n  }\r\n\r\n  \r\n)\r\n}\r\n\r\nconnectToBac = ()=>{\r\n  fetch('http://127.0.0.1:8000/bac/').\r\n  then(res => res.json()).\r\n  then(\r\n    result =>{\r\n      this.getbestbacavg(result)  \r\n      this.calculatepopularfield(result)\r\n     \r\n    }\r\n  )\r\n}\r\n\r\nconnectToCourseProfile = () =>{\r\n  fetch('http://127.0.0.1:8000/course_profile/').\r\n  then(res => res.json()).\r\n  then(\r\n    result =>{\r\n  \r\n      this.calculatebestbacfield(result)\r\n      this.calculatebestgender(result) \r\n    \r\n    }\r\n  )\r\n}\r\n\r\nconnectToCourseProfileBydate = () =>{\r\n  var date = (this.state.years.indexOf(this.state.current_year)+1)==0 ? 1: (this.state.years.indexOf(this.state.current_year)+1)\r\n  console.log(date)\r\n  fetch('http://127.0.0.1:8000/course_profile/?date='+date).\r\n  then(res => res.json()).\r\n  then(\r\n    result =>{\r\n  \r\n      this.calculatebestcourseyear(result)    \r\n    }\r\n  )\r\n}\r\n\r\nconnectToScholarYear = ()=>{\r\n  fetch('http://127.0.0.1:8000/scholar_years/').\r\n  then(res => res.json()).\r\n  then(\r\n    result =>{\r\n      this.getscholaryears(result)    \r\n    }\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\ncomponentDidMount() {\r\n  this.connectToScholarYear()\r\n  this.connectToBestCourses()\r\n  this.connectToBac()\r\n  this.connectToCourseProfile()  \r\n  this.connectToCourseProfileBydate()\r\n \r\n}\r\nhandleClickYear = (e)=>{\r\n  let year = e.target.text\r\n  \r\n  this.setState({\r\n    current_year : parseInt(year),\r\n  })\r\n\r\n  this.connectToCourseProfileBydate()\r\n}\r\n\r\n\r\n\r\ndisplayYears = ()=>{\r\n  var id =  \"years_list\"\r\n  const yearsList = this.state.years.map((year) =>\r\n  <li className=\"nav-item active\">\r\n    <a className=\"nav-link text-white\" href=\"#year-analysis\"  onClick={this.handleClickYear}>\r\n    {year}\r\n    </a>\r\n  </li>\r\n);\r\nreturn yearsList\r\n}\r\n\r\ndiplayBac\r\n\r\n\r\n  render(){\r\n    const cardWidth = \"22rem\"\r\n    const greenBarColor = \"#18BD9B\"\r\n    const redBarColor = \"#E54787\"\r\n    let yearsList = this.displayYears()\r\n\r\n    return (\r\n      <div className=\"Dashboard\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n\r\n            <article className=\"col-md-8\">\r\n              {\r\n                /*generale info section start*/\r\n              }\r\n              <section>\r\n                <header className=\"text-center\">General Info</header>\r\n                  <div id=\"general-info\">\r\n                  <Card id=\"best-courses\"  style={{ width: cardWidth}}>\r\n                    <Card.Body>\r\n                        <HorizontalBar\r\n                               \r\n            \r\n                        data={{ labels : this.state.best_courses.slice(0,5),  \r\n                                datasets: [\r\n                                  { \r\n                                    label: \"Top 5 Admis Percentage since 2010 \",\r\n                                    backgroundColor: greenBarColor,\r\n                                    data : this.state.best_courses_winrate.slice(0,5)\r\n                                     }\r\n                                ]\r\n                        }}                      \r\n\r\n                        width={100}\r\n                        height={200}\r\n                        options={{ maintainAspectRatio: false }}\r\n                        />\r\n                    </Card.Body>\r\n                  </Card>\r\n\r\n\r\n                  <Card id=\"popular-bacfield\"  style={{ width: cardWidth }}>\r\n                    <Card.Body>\r\n                    <HorizontalBar                              \r\n                      data={{ labels : this.state.popular_fields,  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"Most popular bac field since 2010\",\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.popular_fields_number\r\n                                  }\r\n                              ]\r\n                      }}                      \r\n\r\n                      width={100}\r\n                      height={200}\r\n                      options={{ maintainAspectRatio: false }}\r\n                      />\r\n                    </Card.Body>\r\n                  </Card>\r\n                  <Card id=\"best-bacfield\"  style={{ width: cardWidth }}>\r\n                    <Card.Body>\r\n                    <HorizontalBar                              \r\n                      data={{ labels : this.state.best_bacfield,  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"Top  bac field since 2010\",\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.best_bacfield_winrate\r\n                                  }\r\n                              ]\r\n                      }}                      \r\n\r\n                      width={100}\r\n                      height={200}\r\n                      options={{ maintainAspectRatio: false }}\r\n                      />\r\n                    </Card.Body>\r\n                  </Card>\r\n                  <Card id=\"best-gender\"  style={{ width: cardWidth }}>\r\n                    <Card.Body>\r\n                    <HorizontalBar                              \r\n                      data={{ labels : this.state.best_gender,  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"Male Vs Female Admis since  2010\",\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.best_gender_winrate\r\n                                  }\r\n                              ]\r\n                      }}                      \r\n\r\n                      width={100}\r\n                      height={200}\r\n                      options={{ maintainAspectRatio: false }}\r\n                      />\r\n                    </Card.Body>\r\n                  </Card>\r\n                  </div>              \r\n              </section>\r\n              {\r\n                /* generale info section end */\r\n              }\r\n\r\n              {\r\n                /* year analysis section start */\r\n              }\r\n              <section>\r\n                <header className=\"text-center\">Year Analysis</header>\r\n                <div id=\"year-analysis\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n                  <div className=\"collapse navbar-collapse\">                   \r\n                    <ul id=\"years_list\" className=\"navbar-nav\">\r\n                     {yearsList}\r\n                    </ul>\r\n                  </div>\r\n                </nav>\r\n                <div>\r\n                <Card id=\"years_analysis_card\">\r\n                    <Card.Body>\r\n                    <Card>\r\n                    <Card.Body>\r\n                      <Bar\r\n                        data={{ labels : this.state.year_cours.slice(0,5),  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"best modules for \"+this.state.current_year,\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.year_winrate.slice(0,5)\r\n                                  }\r\n                              ]\r\n                        }}\r\n                        width={100}\r\n                        height={80}\r\n                       />       \r\n                    </Card.Body>\r\n                  </Card>  \r\n\r\n                   <Card>\r\n                    <Card.Body>\r\n                    <Bar\r\n                        data={{ labels : this.state.year_cours_worst.slice(0,5),  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"best field for \"+this.state.current_year,\r\n                                  backgroundColor: redBarColor,\r\n                                  data : this.state.year_winrate_worst.slice(0,5)\r\n                                  }\r\n                              ]\r\n                        }}\r\n                        width={100}\r\n                        height={80}\r\n                       />         \r\n                    </Card.Body>\r\n                  </Card> \r\n\r\n                   <Card>\r\n                    <Card.Body>\r\n                    <Bar\r\n                        data={{ labels : this.state.best_gender,  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"Male Vs Female Admis since  2010\",\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.best_gender_winrate\r\n                                  }\r\n                              ]\r\n                        }}\r\n                        width={100}\r\n                        height={80}\r\n                       />          \r\n                    </Card.Body>\r\n                  </Card>         \r\n\r\n\r\n                  <Card>\r\n                    <Card.Body>\r\n                    <Bar\r\n                        data={{ labels : this.state.best_gender,  \r\n                              datasets: [\r\n                                { \r\n                                  label: \"Male Vs Female Admis since  2010\",\r\n                                  backgroundColor: greenBarColor,\r\n                                  data : this.state.best_gender_winrate\r\n                                  }\r\n                              ]\r\n                        }}\r\n                        width={100}\r\n                        height={80}\r\n                       />         \r\n                    </Card.Body>\r\n                  </Card> \r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>                \r\n                </div>\r\n              </section>                \r\n              {\r\n                /* year analysis section end */\r\n              }\r\n\r\n            </article>\r\n\r\n            <aside className=\"col-md-4\">\r\n            <header className=\"text-center\">Best Bac Avg</header>\r\n\r\n              <div>\r\n              <Card>\r\n                    <Card.Body>\r\n                      <ul>\r\n\r\n                      </ul>      \r\n                    </Card.Body>\r\n                  </Card> \r\n              </div>\r\n            </aside>\r\n\r\n          </div>    \r\n        </div>\r\n      </div>\r\n      \r\n      \r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport default  Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}